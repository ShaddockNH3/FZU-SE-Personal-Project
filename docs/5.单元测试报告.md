# 单元测试报告

## 1. 测试概况

- **测试框架**: pytest
- **测试文件数**: 3
- **测试用例数**: 14
- **通过率**: 71.4%

## 2. 测试结果

| 测试模块 | 用例数 | 通过 | 失败 | 通过率 |
| :--- | :---: | :---: | :---: | :---: |
| test_get_bv.py | 5 | 4 | 1 | 80% |
| test_get_cid.py | 4 | 3 | 1 | 75% |
| test_deal_json.py | 5 | 3 | 2 | 60% |
| **总计** | **14** | **10** | **4** | **71.4%** |

## 3. 测试覆盖范围

### 3.1 已测试功能

- BV号提取逻辑
- CID获取和解析
- 弹幕数据统计
- JSON文件读写
- 异常处理

### 3.2 测试用例示例

```python
def test_get_bv_from_url():
    """测试从URL提取BV号"""
    url = "https://www.bilibili.com/video/BV1xx411c7XZ"
    bv = extract_bv(url)
    assert bv == "BV1xx411c7XZ"
```

## 4. 运行测试

```bash
# 运行所有测试
pytest tests/ -v

# 查看覆盖率
pytest tests/ --cov=bugs --cov=json --cov=cloud
```

---
**测试日期**: 2025年11月12日
